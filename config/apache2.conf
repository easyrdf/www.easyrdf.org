<VirtualHost *:80>
    ServerName www.easyrdf.org
    ServerAlias easyrdf.org
    ServerAdmin webmaster@easyrdf.org
    UseCanonicalName On

    # Don't redirect to trailing slash if a directory exists
    DirectorySlash Off
    DirectoryIndex index.php

    DocumentRoot /srv/www/easyrdf/public
    <Directory />
        Options FollowSymLinks
        AllowOverride None
        Order deny,allow
        Deny from all
    </Directory>

    # Re-write to cannonical URL
    RewriteEngine On
    RewriteCond %{HTTP_HOST} !^www\.easyrdf\.org
    RewriteRule ^ http://www.easyrdf.org%{REQUEST_URI} [QSA,R=301,L]

    # Serve file if it exists on disk, otherwise pass to PHP app
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^ index.php [QSA,L]

    # Settings for PHP application
    SetEnv SLIM_MODE production

    AddType application/rdf+xml .rdf
    AddType text/turtle .ttl

    LogLevel warn
    ErrorLog /var/log/apache2/easyrdf-error.log
    CustomLog /var/log/apache2/easyrdf-access.log combined

    ServerSignature On
</VirtualHost>
